!function(a,b){var c={$container:a(".mergebot-reminder-popup"),close:function(){this.$container.hide()},open:function(){this.$container.show()},toggleProcessing:function(a){this.$container.toggleClass("doing-ajax",a)},isProcessing:function(){return this.$container.hasClass("doing-ajax")},anchorToRecorder:function(b){var c=a(b);if(!(c.outerHeight()>=46)){var d=c.outerWidth()/2,e=a(window).width()-c.offset().left-d;e-=this.$container.outerWidth()/2,this.$container.css({float:"none","margin-right":"0",right:e+"px"})}},actionClick:function(a){if(!this.isProcessing()){if(this.toggleProcessing(!0),this.close(),"dismiss"===a.data("action")){var c=a.data("mins")?a.data("mins"):0;return void this.dismiss(c)}var d=this,e=b.mergebotAdminBar.toggleButton({background_record:1});e.done(function(){d.toggleProcessing(!1)}),e.fail(function(){d.toggleProcessing(!1),d.open()})}},dismiss:function(a){var c=this,d=b.ajax.post("mergebot_dismiss_recorder_reminder_popup",{minutes:a});d.done(function(){c.toggleProcessing(!1)}),d.fail(function(a){c.toggleProcessing(!1),c.open(),alert(a.statusText)})}};a(document).ready(function(){c.$container.length&&c.anchorToRecorder("#wp-admin-bar-mergebot"),c.$container.on("click","a",function(b){b.preventDefault(),c.actionClick(a(this))}),a("#wp-admin-bar-mergebot").click(function(){0===b.mergebotAdminBar.activeStatus&&c.close()})})}(jQuery,window.wp);