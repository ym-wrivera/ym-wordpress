!function(a,b){b.mergebotAdminBar={button:a("#wp-admin-bar-mergebot"),activeStatus:0,spinner:!1,spinOptions:{lines:9,length:3,width:2,radius:2,corners:1,rotate:0,direction:1,color:"#fff",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"dh-spinner",zIndex:2e9,top:"50%",left:"50%"},setActiveStatus:function(a){this.activeStatus=parseInt(a),this.updateTitle()},toggleActiveStatus:function(){var a=1===this.activeStatus?0:1;this.setActiveStatus(a)},initSpinner:function(){this.spinner||(this.spinner=new Spinner(this.spinOptions))},toggleSpinner:function(a){this.initSpinner(),a?this.spinner.spin(this.button[0]):this.spinner.stop()},toggleButton:function(c){if(c=void 0!==c?c:{},!this.button.hasClass("doing-ajax")){this.button.addClass("doing-ajax"),this.toggleSpinner(!0);var d=this,e={action:"mergebot_toggle_recorder",active_status:this.activeStatus};c=a.extend(e,c);var f=b.ajax.post("mergebot_toggle_recorder",c);return f.done(function(){d.button.removeClass("doing-ajax"),d.toggleSpinner(!1),d.toggleActiveStatus()}),f.fail(function(a){d.button.removeClass("doing-ajax"),d.toggleSpinner(!1),d.throwError(a.statusText)}),f}},updateTitle:function(){1===this.activeStatus?(this.button.attr("title",mergebot.strings.stop_recording),this.button.addClass("active")):(this.button.attr("title",mergebot.strings.start_recording),this.button.removeClass("active"))},throwError:function(a){a=": "+a||"","1"===this.activeStatus?alert(mergebot.strings.ajax_problem_off+a):alert(mergebot.strings.ajax_problem_on+a)}},a(document).ready(function(){b.mergebotAdminBar.setActiveStatus(mergebot.active),a("#wp-admin-bar-mergebot").click(function(){b.mergebotAdminBar.toggleButton()})})}(jQuery,window.wp);